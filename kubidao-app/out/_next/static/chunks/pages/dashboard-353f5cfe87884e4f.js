(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8026],{91015:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard",function(){return n(14639)}])},70065:function(e,t,n){"use strict";var i=n(85893);n(67294);var l=n(53295),r=n(71293),s=n(34292),o=n(57747),a=n(48783),d=n(22757),x=n(24880),c=n(41664),h=n.n(c),g=n(11163);let u={position:"absolute",width:"100%",height:"100%",zIndex:-1,borderRadius:"inherit",backdropFilter:"blur(50px)",backgroundColor:"rgba(0, 0, 0, .9)"};t.Z=e=>{let{OngoingPolls:t}=e;if((0,g.useRouter)(),!(t&&t.length>0))return(0,i.jsx)(r.x,{mt:"4",ml:"7",children:"No ongoing polls available"});let n=t.sort(()=>Math.random()-Math.random()).slice(0,3);return(0,i.jsx)(s.U,{ml:0,mr:8,spacing:"3.5%",children:n.map(e=>(0,i.jsxs)(o.xu,{_hover:{transform:"scale(1.07)"},bg:"transparent",borderRadius:"2xl",p:2,position:"relative",w:"31%",mt:"-4",children:[(0,i.jsx)("div",{style:u}),(0,i.jsx)(h(),{href:"/voting/?poll=".concat(e.id),children:(0,i.jsxs)(a.g,{textColor:"white",spacing:2,children:[(0,i.jsx)(d.X,{ml:4,fontWeight:"extrabold",mt:2,size:"sm",children:e.name}),(0,i.jsx)(o.xu,{pl:"4",mt:"0",children:(0,i.jsx)(l.Z,{duration:(null==e?void 0:e.experationTimestamp)-Math.floor(Date.now()/1e3)})}),(0,i.jsx)(o.xu,{alignSelf:"flex-start",ml:"4",mt:"0",children:(0,i.jsx)(x.C,{colorScheme:"blue",children:e.type})})]})})]},e.id))})}},14639:function(e,t,n){"use strict";n.r(t);var i=n(85893),l=n(67294),r=n(71293),s=n(27239),o=n(81136),a=n(57747),d=n(79078),x=n(68519),c=n(48783),h=n(34292),g=n(6089),u=n(36948),f=n(32883),p=n(24880),j=n(14225);n(93104);var m=n(20347),b=n(74907),S=n(45166);n(98280);var v=n(41664),z=n.n(v),w=n(70065);n(11163);var y=n(70424),k=n(78773),W=n(23711);t.default=()=>{let{ongoingPolls:e}=(0,m.S)();console.log("ongoingPolls",e);let{poContextLoading:t,poDescription:n,poLinks:v,logoHash:C,activeTaskAmount:T,completedTaskAmount:I,ptTokenBalance:R,poMembers:_,rules:U}=(0,b.f)(),[P,E]=(0,l.useState)({}),[M,N]=(0,l.useState)(!1),[V,D]=(0,l.useState)([]),{fetchImageFromIpfs:H}=(0,W.d)();(0,l.useEffect)(()=>{(async()=>{C&&!M&&(E(await H(C)),N(!0))})()},[C]),(0,l.useEffect)(()=>{U&&D(function(e){let{HybridVoting:t=null,DirectDemocracyVoting:n=null,ParticipationVoting:l=null,NFTMembership:s=null,Treasury:o=null}=e,a=[],d=(e,t)=>{t&&a.push((0,i.jsxs)(r.x,{ml:"2",children:[e,": ",t.quorum,"% approval"]},e))};if(a.push((0,i.jsx)(r.x,{fontWeight:"bold",fontSize:"lg",ml:"2",mt:"2",children:"Voting Types"},"voting-types")),d("Hybrid Voting",t),d("Direct Democracy Voting",n),d("Participation Voting",l),s&&(a.push((0,i.jsx)(r.x,{fontWeight:"bold",fontSize:"lg",ml:"2",mt:"2",children:"Member Types"},"member-types")),a.push((0,i.jsxs)(r.x,{ml:"2",mt:"2",children:["All Member Types: ",s.memberTypeNames.join(", ")]},"member-type-names")),a.push((0,i.jsxs)(r.x,{ml:"2",mt:"0",children:["Executive Roles: ",s.executiveRoles.join(", ")]},"executive-roles"))),o){let e="an unidentified voting system";t&&o.votingContract===t.id?e="Hybrid Voting":n&&o.votingContract===n.id?e="Direct Democracy Voting":l&&o.votingContract===l.id&&(e="Participation Voting"),a.push((0,i.jsx)(r.x,{fontSize:"lg",fontWeight:"bold",ml:"2",mt:"2",children:"Treasury and Upgrade Control"},"treasury-control-Text")),a.push((0,i.jsxs)(r.x,{ml:"2",mt:"2",children:["Controlled by: ",e]},"treasury-control"))}return a}(U))},[U]);let{leaderboardData:O}=(0,b.f)(),{recommendedTasks:Z}=(0,S.d)(),A=e=>{switch(e){case 0:return"gold";case 1:return"silver";case 2:return"#cd7f32";default:return null}},F={position:"absolute",height:"100%",width:"100%",zIndex:-1,borderRadius:"inherit",backdropFilter:"blur(70px)",backgroundColor:"rgba(0, 0, 0, .79)"},L={easy:"green",medium:"yellow",hard:"orange",veryhard:"red"};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(y.Z,{}),t?(0,i.jsx)(s.M,{height:"100vh",children:(0,i.jsx)(o.$,{size:"xl"})}):(0,i.jsx)(a.xu,{p:4,children:(0,i.jsxs)(d.r,{color:"whitesmoke",templateAreas:["'orgInfo orgStats' 'tasks polls' 'leaderboard constitution'","'orgInfo orgStats' 'tasks polls' 'leaderboard constitution'"],templateColumns:"repeat(2, 1fr)",gap:4,children:[(0,i.jsx)(x.P,{area:"orgInfo",children:(0,i.jsxs)(a.xu,{w:"125%",borderRadius:"2xl",bg:"transparent",boxShadow:"lg",position:"relative",zIndex:2,children:[(0,i.jsx)("div",{style:F}),(0,i.jsxs)(c.g,{pb:1,position:"relative",borderTopRadius:"2xl",align:"flex-start",children:[(0,i.jsx)("div",{style:F}),(0,i.jsx)(h.U,{spacing:4,children:(0,i.jsxs)(r.x,{pl:6,letterSpacing:"-1%",fontSize:"4xl",fontWeight:"bold",children:["KUBI","'s Dashboard"]})})]}),(0,i.jsxs)(h.U,{spacing:4,justify:"space-between",w:"100%",p:"2",children:[(0,i.jsx)(a.xu,{pl:"12px",children:(0,i.jsx)(g.E,{mb:"0",src:P,alt:"Organization Logo",width:"220px"})}),(0,i.jsxs)(c.g,{ml:"2",align:"flex-start",pr:"10px",spacing:2,w:"100%",children:[(0,i.jsxs)(a.xu,{children:[(0,i.jsx)(r.x,{fontWeight:"bold",fontSize:"xl",mt:0,children:"Description:"}),(0,i.jsx)(r.x,{mt:"-1",fontSize:"md",ml:"2",children:n})]}),(0,i.jsxs)(a.xu,{children:[(0,i.jsxs)(h.U,{spacing:2,align:"center",children:[(0,i.jsx)(u.J,{as:k.gjK,boxSize:4}),(0,i.jsx)(r.x,{fontSize:"lg",fontWeight:"bold",children:"Links"})]}),(0,i.jsx)(h.U,{ml:"4",mt:"1",spacing:2,align:"center",children:v&&v.length>0?v.map((e,t)=>(0,i.jsx)(r.x,{mt:"-2",fontSize:"md",children:(0,i.jsx)(f.r,{fontSize:"xl",fontWeight:"bold",href:e.url,isExternal:!0,color:"blue.400",children:e.name})},t)):(0,i.jsx)(r.x,{fontSize:"lg",mt:2,children:"No links available"})})]})]})]})]})}),(0,i.jsx)(x.P,{area:"orgStats",children:(0,i.jsxs)(a.xu,{h:"100%",ml:"25%",w:"75%",borderRadius:"2xl",bg:"transparent",boxShadow:"lg",position:"relative",zIndex:2,children:[(0,i.jsx)("div",{style:F}),(0,i.jsxs)(c.g,{pb:1,align:"flex-start",position:"relative",borderTopRadius:"2xl",children:[(0,i.jsx)("div",{style:F}),(0,i.jsx)(r.x,{pl:6,fontWeight:"bold",fontSize:"2xl",children:"Organization Stats"})]}),(0,i.jsxs)(c.g,{mt:"2",spacing:1.5,align:"flex-start",ml:"8",children:[(0,i.jsxs)(h.U,{spacing:2,children:[(0,i.jsx)(r.x,{mt:"-1",fontSize:"lg",fontWeight:"bold",children:"Members:"}),(0,i.jsx)(r.x,{mt:"-1",fontSize:"lg",children:_})]}),(0,i.jsxs)(h.U,{spacing:2,children:[(0,i.jsx)(r.x,{mt:"-1",fontSize:"lg",fontWeight:"bold",children:"Total Participation Tokens:"}),(0,i.jsx)(r.x,{mt:"-1",fontSize:"lg",children:R})]}),(0,i.jsxs)(h.U,{spacing:2,children:[(0,i.jsx)(r.x,{mt:"-1",fontSize:"lg",fontWeight:"bold",children:"Active Tasks:"}),(0,i.jsx)(r.x,{mt:"-1",fontSize:"lg",children:T})]}),(0,i.jsxs)(h.U,{spacing:2,children:[(0,i.jsx)(r.x,{mt:"-1",fontSize:"lg",fontWeight:"bold",children:"Completed Tasks:"}),(0,i.jsx)(r.x,{mt:"-1",fontSize:"lg",children:I})]}),(0,i.jsxs)(h.U,{spacing:2,children:[(0,i.jsx)(r.x,{mt:"-1",fontSize:"lg",fontWeight:"bold",children:"Treasury Balance:"}),(0,i.jsx)(r.x,{mt:"-1",fontSize:"lg",children:"$12345"})]})]})]})}),(0,i.jsx)(x.P,{area:"tasks",children:(0,i.jsxs)(a.xu,{h:"100%",w:"100%",borderRadius:"2xl",bg:"transparent",boxShadow:"lg",position:"relative",zIndex:2,children:[(0,i.jsx)("div",{style:F}),(0,i.jsxs)(c.g,{pb:1,align:"flex-start",position:"relative",borderTopRadius:"2xl",children:[(0,i.jsx)("div",{style:F}),(0,i.jsx)(r.x,{pl:6,fontWeight:"bold",fontSize:"2xl",children:"Recommended Tasks"})]}),(0,i.jsx)(h.U,{spacing:"3.5%",pb:2,ml:4,mr:4,pt:2,children:null==Z?void 0:Z.slice(0,3).map(e=>(0,i.jsx)(a.xu,{w:"31%",_hover:{boxShadow:"md",transform:"scale(1.07)"},p:4,borderRadius:"2xl",overflow:"hidden",bg:"black",children:(0,i.jsx)(z(),{href:"/tasks/?task=".concat(e.id,"&projectId=").concat(e.projectId),children:(0,i.jsxs)(c.g,{textColor:"white",align:"stretch",spacing:3,children:[(0,i.jsx)(r.x,{mt:"-2",fontSize:"md",lineHeight:"99%",fontWeight:"extrabold",children:e.taskInfo.name}),(0,i.jsxs)(h.U,{justify:"space-between",children:[(0,i.jsx)(p.C,{colorScheme:L[e.taskInfo.difficulty.toLowerCase().replace(" ","")],children:e.taskInfo.difficulty}),(0,i.jsxs)(r.x,{fontWeight:"bold",children:["Tokens ",e.payout]})]})]})})},e.id))})]})}),(0,i.jsx)(x.P,{area:"polls",children:(0,i.jsxs)(a.xu,{h:"100%",w:"100%",borderRadius:"2xl",bg:"transparent",boxShadow:"lg",position:"relative",zIndex:2,children:[(0,i.jsx)("div",{style:F}),(0,i.jsxs)(c.g,{pb:1,align:"flex-start",position:"relative",borderTopRadius:"2xl",children:[(0,i.jsx)("div",{style:F}),(0,i.jsx)(r.x,{pl:6,fontWeight:"bold",fontSize:"2xl",children:"Ongoing Polls"})]}),(0,i.jsx)(a.xu,{w:"100%",p:4,children:(0,i.jsx)(w.Z,{OngoingPolls:e})})]})}),(0,i.jsx)(x.P,{area:"leaderboard",children:(0,i.jsx)(z(),{href:"/leaderboard",children:(0,i.jsxs)(a.xu,{h:"100%",w:"100%",borderRadius:"2xl",bg:"transparent",boxShadow:"lg",position:"relative",zIndex:2,_hover:{boxShadow:"md",transform:"scale(1.03)"},children:[(0,i.jsx)("div",{style:F}),(0,i.jsxs)(c.g,{pb:1,align:"flex-start",position:"relative",borderTopRadius:"2xl",children:[(0,i.jsx)("div",{style:F}),(0,i.jsx)(r.x,{pl:6,fontWeight:"bold",fontSize:"2xl",children:"Leaderboard"})]}),(0,i.jsx)(a.xu,{p:4,children:Array.isArray(O)&&O.length>0?O.slice(0,5).map((e,t)=>{let n=A(t);return(0,i.jsxs)(h.U,{ml:"6",spacing:4,alignItems:"center",children:[(0,i.jsx)(r.x,{fontSize:"xl",fontWeight:n?"extrabold":null,color:n,children:t+1}),(0,i.jsx)(r.x,{fontWeight:n?"extrabold":null,fontSize:"2xl",children:e.name}),(0,i.jsxs)(p.C,{ml:"2",fontSize:"md",colorScheme:"blue",children:[e.token," Tokens"]})]},e.id)}):(0,i.jsx)(r.x,{pl:6,fontSize:"lg",mt:2,children:"No leaderboard data available"})})]})})}),(0,i.jsx)(x.P,{area:"constitution",children:(0,i.jsxs)(a.xu,{w:"100%",borderRadius:"2xl",bg:"transparent",boxShadow:"lg",position:"relative",zIndex:2,children:[(0,i.jsx)("div",{style:F}),(0,i.jsxs)(c.g,{pb:1,align:"flex-start",position:"relative",borderTopRadius:"2xl",children:[(0,i.jsx)("div",{style:F}),(0,i.jsx)(r.x,{pl:6,fontWeight:"bold",fontSize:"2xl",children:"Constitution"})]}),(0,i.jsxs)(a.xu,{pl:6,pr:6,pb:4,children:[V,(0,i.jsxs)(h.U,{mt:"2",spacing:4,align:"center",children:[(0,i.jsx)(z(),{href:"/constitution",children:(0,i.jsx)(j.z,{mt:2,colorScheme:"teal",size:"sm",ml:"2",children:"View Full Constitution"})}),(0,i.jsx)(r.x,{fontSize:"sm",mb:0,mt:"2",ml:"6",color:"gray.500",children:"See the full constitution for explanations and full rules."})]})]})]})})]})})]})}},70424:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var i=n(85893),l=n(67294),r=n(57747),s=n(93717),o=n(32883),a=n(6089),d=n(41664),x=n.n(d),c=n(11163),h=n(14225),g=n(98280),u=()=>{let{address:e,hasMemberNFT:t}=(0,g.S)(),[n,r]=(0,l.useState)("Connect Wallet"),[s,o]=(0,l.useState)("user");return(0,l.useEffect)(()=>{t?(r("Profile Hub"),o("profileHub")):r("Join or Connect")},[t,e]),(0,i.jsx)(x(),{href:"/".concat(s,"/"),passHref:!0,children:(0,i.jsx)(h.z,{bgGradient:"linear(to-r, teal.300, green.300)",color:"white",_hover:{bgGradient:"linear(to-r, teal.600, green.600)"},_active:{bgGradient:"linear(to-r, teal.700, green.700)"},borderRadius:"full",px:"6",py:"2",fontSize:"lg",fontWeight:"bold",textColor:"black",onClick:e=>{},children:n})})},f=()=>((0,c.useRouter)(),(0,i.jsx)(r.xu,{bg:"black",p:2.5,alignItems:"center",children:(0,i.jsxs)(s.k,{alignItems:"center",h:"70px",maxW:"100%",justifyContent:"space-between",children:[(0,i.jsx)(r.xu,{h:"100%",w:"12%",pb:2,pl:10,mr:{base:"4",md:"14"},children:(0,i.jsx)(o.r,{as:x(),href:"/home",passHref:!0,children:(0,i.jsx)(a.E,{src:"/images/kubi_white_logo.png",alt:"Your Logo",height:"113%",width:"auto",objectFit:"contain"})})}),(0,i.jsxs)(s.k,{justifyContent:"space-between",flexGrow:1,ml:4,mr:4,alignItems:"center",children:[(0,i.jsx)(o.r,{as:x(),href:"/dashboard",color:"white",fontWeight:"extrabold",fontSize:"xl",mx:"2%",children:"Dashboard"}),(0,i.jsx)(o.r,{as:x(),href:"/tasks",color:"white",fontWeight:"extrabold",fontSize:"xl",mx:"2%",children:"Tasks"}),(0,i.jsx)(o.r,{as:x(),href:"/voting",color:"white",fontWeight:"extrabold",fontSize:"xl",mx:"2%",children:"Voting"}),(0,i.jsx)(u,{})]})]})}))},53295:function(e,t,n){"use strict";var i=n(85893),l=n(67294),r=n(71293);t.Z=e=>{let{duration:t}=e,[n,s]=(0,l.useState)(t);(0,l.useEffect)(()=>{let e=setInterval(()=>{s(e=>Math.max(e-1,0))},1e3);return()=>clearInterval(e)},[]);let o=Math.floor(n/86400),a=Math.floor(n%86400/3600),d=Math.floor(n%3600/60),x=n%60;return(0,i.jsxs)(r.x,{fontWeight:"bold",fontSize:"md",children:[o>0?"".concat(o,"d "):"",a>0?"".concat(a,"h "):"",d>0?"".concat(d,"m "):"",x>0?"".concat(x,"s"):""]})}}},function(e){e.O(0,[3365,1296,2888,9774,179],function(){return e(e.s=91015)}),_N_E=e.O()}]);
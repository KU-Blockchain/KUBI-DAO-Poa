(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5941],{46463:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profileHub",function(){return s(12657)}])},70065:function(e,t,s){"use strict";var r=s(85893);s(67294);var n=s(53295),i=s(71293),o=s(34292),l=s(57747),a=s(48783),d=s(22757),c=s(24880),x=s(41664),h=s.n(x),p=s(11163);let u={position:"absolute",width:"100%",height:"100%",zIndex:-1,borderRadius:"inherit",backdropFilter:"blur(50px)",backgroundColor:"rgba(0, 0, 0, .9)"};t.Z=e=>{let{OngoingPolls:t}=e;if((0,p.useRouter)(),!(t&&t.length>0))return(0,r.jsx)(i.x,{mt:"4",ml:"7",children:"No ongoing polls available"});let s=t.sort(()=>Math.random()-Math.random()).slice(0,3);return(0,r.jsx)(o.U,{ml:0,mr:8,spacing:"3.5%",children:s.map(e=>(0,r.jsxs)(l.xu,{_hover:{transform:"scale(1.07)"},bg:"transparent",borderRadius:"2xl",p:2,position:"relative",w:"31%",mt:"-4",children:[(0,r.jsx)("div",{style:u}),(0,r.jsx)(h(),{href:"/voting/?poll=".concat(e.id),children:(0,r.jsxs)(a.g,{textColor:"white",spacing:2,children:[(0,r.jsx)(d.X,{ml:4,fontWeight:"extrabold",mt:2,size:"sm",children:e.name}),(0,r.jsx)(l.xu,{pl:"4",mt:"0",children:(0,r.jsx)(n.Z,{duration:(null==e?void 0:e.experationTimestamp)-Math.floor(Date.now()/1e3)})}),(0,r.jsx)(l.xu,{alignSelf:"flex-start",ml:"4",mt:"0",children:(0,r.jsx)(c.C,{colorScheme:"blue",children:e.type})})]})})]},e.id))})}},12657:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return $}});var r=s(82729),n=s(85893),i=s(67294),o=s(89155),l=s(70917),a=s(57747),d=s(27239),c=s(81136),x=s(71293),h=s(79078),p=s(68519),u=s(48783),g=s(16914),f=s(65028),m=s(6089),j=s(65040),b=s(34292),S=s(89993),v=s(24880),w=s(42456),k=s(92449),T=s(35541),y=s(19778),C=s(51178),z=s(64859),_=s(66205),R=s(54346),I=s(85970),W=s(5418),U=s(33090),E=s(14253),M=s(14225),P=s(93104),B=s(98280),N=e=>{let{isOpen:t,onClose:s}=e,{address:r,graphUsername:o,setGraphUsername:l}=(0,B.S)(),{changeUsername:a}=(0,P.Z)(),[d,c]=(0,i.useState)("");(0,i.useEffect)(()=>{o&&c(o)},[o]);let x=async()=>{if(o!==d)try{await a(d),l(d)}catch(e){console.error(e),toast({title:"Error Updating Username",description:"An error occurred. Please try again later.",status:"error",duration:5e3,isClosable:!0})}else toast({title:"Username Unchanged",description:"New username is the same as the old one. No changes made.",status:"info",duration:5e3,isClosable:!0});s()};return(0,n.jsxs)(T.u_,{isOpen:t,onClose:s,children:[(0,n.jsx)(y.Z,{}),(0,n.jsxs)(C.h,{children:[(0,n.jsx)(z.x,{children:" Update Account Settings"}),(0,n.jsx)(_.o,{}),(0,n.jsx)(R.f,{children:(0,n.jsxs)(I.NI,{children:[(0,n.jsx)(W.l,{children:"Username"}),(0,n.jsx)(U.I,{value:d,onChange:e=>c(e.target.value)})]})}),(0,n.jsxs)(E.m,{children:[(0,n.jsx)(M.z,{colorScheme:"blue",mr:3,onClick:x,children:"Save"}),(0,n.jsx)(M.z,{variant:"ghost",onClick:s,children:"Cancel"})]})]})]})},Z=s(20347),L=s(45166),F=s(69926),G=s(41664),H=s.n(G),O=s(70065),A=s(53295),D=s(22757),J=s(11163);let V={position:"absolute",width:"100%",height:"100%",zIndex:-1,borderRadius:"inherit",backdropFilter:"blur(50px)",backgroundColor:"rgba(0, 0, 0, .9)"};var X=e=>{let{userProposals:t}=e;if((0,J.useRouter)(),!(t&&t.length>0))return(0,n.jsx)(x.x,{mt:"4",ml:"7",children:"No proposals available"});let s=t.slice(0,3);return(0,n.jsx)(b.U,{ml:2,mr:8,spacing:"3.5%",children:s.map(e=>(0,n.jsxs)(a.xu,{_hover:{transform:"scale(1.04)"},bg:"transparent",borderRadius:"2xl",p:2,position:"relative",w:"31%",mt:"-4",mb:"-3",children:[(0,n.jsx)("div",{style:V}),(0,n.jsx)(H(),{href:"/voting/?poll=".concat(e.id),children:(0,n.jsxs)(u.g,{textColor:"white",spacing:2,children:[(0,n.jsx)(D.X,{ml:4,fontWeight:"extrabold",mt:2,size:"sm",children:e.name}),(0,n.jsx)(a.xu,{pl:"4",mt:"0",children:(0,n.jsx)(A.Z,{duration:e.experationTimestamp-Math.floor(Date.now()/1e3)})}),(0,n.jsx)(a.xu,{alignSelf:"flex-start",ml:"4",mt:"0",children:(0,n.jsx)(v.C,{colorScheme:"blue",children:e.type})})]})})]},e.id))})},q=s(70424);function Y(){let e=(0,r._)(["\n    from { text-shadow: 0 0 0px white; }\n    to { text-shadow: 0 0 20px gold;  }\n  "]);return Y=function(){return e},e}var $=()=>{var e;(0,J.useRouter)();let{ongoingPolls:t}=(0,Z.S)(),{recommendedTasks:s}=(0,L.d)(),{claimedTasks:r,userProposals:T,graphUsername:y,userDataLoading:C,error:z,userData:_}=(0,B.S)(),R=(0,o.T)(),[I,W]=(0,i.useState)(!1),[U,E]=(0,i.useState)(!1),[M,P]=(0,i.useState)(!1),[G,A]=(0,i.useState)(!1),[D,V]=(0,i.useState)(!0),$={position:"absolute",height:"100%",width:"100%",zIndex:-1,borderRadius:"inherit",backdropFilter:"blur(20px)",backgroundColor:"rgba(0, 0, 0, .73)"},K=(0,l.F4)(Y()),Q={easy:"green",medium:"yellow",hard:"orange",veryhard:"red"},ee=e=>e>=1e3?"Gold":e>=500?"Silver":e>=150?"Bronze":"Basic",et=e=>e<150?{progress:e/150*100,nextTier:"Bronze",nextTierThreshold:150}:e<500?{progress:(e-150)/150*100,nextTier:"Silver",nextTierThreshold:500}:e<1e3?{progress:(e-500)/500*100,nextTier:"Gold",nextTierThreshold:1e3}:{progress:100,nextTier:"Gold",nextTierThreshold:1e3},es=e=>new Date(1e3*e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),[er,en]=(0,i.useState)({});(0,i.useEffect)(()=>{if(_){console.log(_);let e=et(_.ptTokenBalance);en({username:y,ptBalance:Number(_.ptTokenBalance),memberStatus:_.memberType,accountAddress:_.id,tasksCompleted:_.tasksCompleted,totalVotes:_.totalVotes,dateJoined:es(_.dateJoined),tier:ee(_.ptTokenBalance),progress:e.progress,nextTier:e.nextTier,nextTierThreshold:e.nextTierThreshold})}},[_,y]);let ei=(0,F.q_)({pt:er.ptBalance,from:{pt:0},config:{duration:1700},onRest:()=>W(!0)});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(q.Z,{}),(0,n.jsx)(a.xu,{mt:-2,p:4,children:C?(0,n.jsx)(d.M,{height:"100vh",children:(0,n.jsx)(c.$,{size:"xl"})}):z?(0,n.jsx)(d.M,{height:"100vh",children:(0,n.jsxs)(x.x,{children:["Error: ",z.message]})}):(0,n.jsxs)(h.r,{color:"white",templateAreas:["'welcome welcome' 'userinfo tierinfo' 'userinfo tierinfo' 'proposals proposals' 'completedtasks completedtasks'","'welcome welcome' 'userinfo tierinfo' 'userinfo tierinfo' 'proposals proposals' 'completedtasks completedtasks'"],templateColumns:"repeat(2, 1fr)",gap:4,children:[(0,n.jsx)(p.P,{area:"userinfo",children:(0,n.jsxs)(a.xu,{w:"100%",borderRadius:"2xl",bg:"transparent",boxShadow:"lg",position:"relative",zIndex:2,children:[(0,n.jsx)("div",{style:$}),(0,n.jsxs)(u.g,{position:"relative",borderTopRadius:"2xl",align:"flex-start",children:[(0,n.jsx)("div",{style:$}),(0,n.jsxs)(x.x,{pl:8,letterSpacing:"-1%",mt:0,fontSize:"4xl",id:"kubix-earned",fontWeight:"bold",children:["Tokens Earned"," ",I?(0,n.jsx)(g.m.span,{...R?{}:{animation:"".concat(K," alternate 2.1s ease-in-out")},children:er.ptBalance}):(0,n.jsx)(F.q.span,{children:ei.pt.to(e=>e.toFixed(0))})]})]}),(0,n.jsxs)(u.g,{p:0,pt:2,align:"center",height:"100%",children:[(0,n.jsxs)(x.x,{fontSize:"3xl",fontWeight:"bold",children:[er.tier," Tier Contributor"]}),(0,n.jsx)(f.L,{}),(0,n.jsx)(m.E,{width:"50%",src:er.tier?"Basic"===er.tier?"/images/high_res_poa.png":"/images/".concat(er.tier.toLowerCase(),"Medal.png"):"/images/high_res_poa.png",alt:"".concat(er.tier||"Basic"," Tier Medal")}),(0,n.jsx)(j.E,{mt:"2",width:"70%",value:er.progress,colorScheme:"teal",borderRadius:"md"}),(0,n.jsx)(x.x,{textAlign:"center",fontSize:"md",p:2,mb:"2",children:er.progress<100?"Progress to ".concat(er.nextTier," Tier: ").concat(er.ptBalance,"/").concat(er.nextTierThreshold):"You have reached the highest tier!"})]})]})}),(0,n.jsxs)(p.P,{area:"tierinfo",children:[(0,n.jsxs)(a.xu,{w:"100%",borderRadius:"2xl",bg:"transparent",boxShadow:"lg",position:"relative",zIndex:2,children:[(0,n.jsx)("div",{style:$}),(0,n.jsxs)(b.U,{pt:1,pb:1,position:"relative",borderTopRadius:"2xl",children:[(0,n.jsx)("div",{style:$}),(0,n.jsx)(x.x,{pl:6,fontSize:"3xl",fontWeight:"extrabold",children:er.username}),(0,n.jsx)(x.x,{pt:0,pl:2,fontSize:"lg",children:er.memberStatus})]}),(0,n.jsx)(S.h,{icon:(0,n.jsx)(w.e,{}),isRound:!0,size:"sm","aria-label":"Settings",onClick:()=>A(!0),alignSelf:"start",justifySelf:"end",position:"absolute",top:"8%",right:"4%",color:"black"}),(0,n.jsx)(N,{isOpen:G,onClose:()=>A(!1)}),(0,n.jsxs)(b.U,{pb:4,pt:2,spacing:"4%",children:[(0,n.jsxs)(u.g,{mt:"1",align:"flex-start",ml:"5%",spacing:1,children:[(0,n.jsxs)(x.x,{fontWeight:"bold",fontSize:"md",children:["Tasks Completed: ",er.tasksCompleted]}),(0,n.jsxs)(x.x,{fontWeight:"bold",fontSize:"md",children:["Total Votes: ",er.totalVotes]}),(0,n.jsxs)(b.U,{spacing:1,children:[(0,n.jsx)(x.x,{fontWeight:"bold",fontSize:"md",children:"Joined:"}),(0,n.jsx)(x.x,{fontSize:"sm",children:er.dateJoined})]})]}),(0,n.jsx)(f.L,{}),(0,n.jsx)(a.xu,{mt:"2",alignSelf:"flex-start",mr:"3",children:(0,n.jsx)(k.NL,{showBalance:!1,chainStatus:"icon",accountStatus:"address"})})]})]}),(0,n.jsxs)(a.xu,{w:"100%",pt:4,borderRadius:"2xl",bg:"transparent",position:"relative",zIndex:2,children:[(0,n.jsx)("div",{style:$}),(0,n.jsxs)(u.g,{pb:2,align:"flex-start",position:"relative",borderTopRadius:"2xl",children:[(0,n.jsx)("div",{style:$}),(0,n.jsx)(x.x,{pl:6,fontWeight:"bold",fontSize:"2xl",children:r&&r.length>0?"Claimed Tasks":"Recommended Tasks"})]}),(0,n.jsx)(b.U,{spacing:"3.5%",pb:2,ml:4,mr:4,pt:4,children:null===(e=r&&r.length>0?r:s)||void 0===e?void 0:e.slice(0,3).map(e=>(0,n.jsx)(a.xu,{w:"31%",_hover:{boxShadow:"md",transform:"scale(1.07)"},p:4,borderRadius:"2xl",overflow:"hidden",bg:"black",children:(0,n.jsx)(H(),{href:"/tasks/?task=".concat(e.id,"&projectId=").concat(e.projectId),children:(0,n.jsxs)(u.g,{textColor:"white",align:"stretch",spacing:3,children:[(0,n.jsx)(x.x,{fontSize:"md",lineHeight:"99%",fontWeight:"extrabold",children:e.taskInfo.name}),(0,n.jsxs)(b.U,{justify:"space-between",children:[(0,n.jsx)(v.C,{colorScheme:Q[e.taskInfo.difficulty.toLowerCase().replace(" ","")],children:e.taskInfo.difficulty}),(0,n.jsxs)(x.x,{fontWeight:"bold",children:["Payout ",e.payout]})]})]})})},e.id))})]}),(0,n.jsxs)(a.xu,{w:"100%",pt:8,mb:"2",borderRadius:"2xl",bg:"transparent",position:"relative",zIndex:2,children:[(0,n.jsx)("div",{style:$}),(0,n.jsxs)(u.g,{pb:2,align:"flex-start",position:"relative",borderTopRadius:"2xl",children:[(0,n.jsx)("div",{style:$}),(0,n.jsxs)(x.x,{pl:6,fontWeight:"bold",fontSize:"2xl",children:[T&&T.length>0?"My Proposals":"Ongoing Proposals"," "]})]}),(0,n.jsx)(a.xu,{mt:"4",children:T&&T.length>0?(0,n.jsx)(X,{userProposals:T}):(0,n.jsx)(O.Z,{OngoingPolls:t})})]})]}),(0,n.jsx)(p.P,{area:"completedtasks",colSpan:2,children:(0,n.jsxs)(a.xu,{w:"100%",mt:2,borderRadius:"2xl",bg:"transparent",boxShadow:"lg",position:"relative",zIndex:2,children:[(0,n.jsx)("div",{style:$}),(0,n.jsxs)(u.g,{pb:2,align:"flex-start",position:"relative",borderTopRadius:"2xl",children:[(0,n.jsx)("div",{style:$}),(0,n.jsx)(x.x,{pl:6,fontWeight:"bold",fontSize:"2xl",children:"My Completed Tasks"})]}),(0,n.jsx)(b.U,{spacing:"3.5%",pb:2,ml:4,mr:4,pt:4,children:_&&_.completedTasks&&_.completedTasks.length>0?_.completedTasks.map(e=>(0,n.jsx)(a.xu,{w:"31%",_hover:{boxShadow:"md",transform:"scale(1.07)"},p:4,borderRadius:"2xl",overflow:"hidden",bg:"black",children:(0,n.jsx)(H(),{href:"/tasks/?task=".concat(e.id,"&projectId=").concat(e.projectId),children:(0,n.jsxs)(u.g,{textColor:"white",align:"stretch",spacing:3,children:[(0,n.jsx)(x.x,{fontSize:"md",lineHeight:"99%",fontWeight:"extrabold",children:e.taskInfo.name}),(0,n.jsxs)(b.U,{justify:"space-between",children:[(0,n.jsx)(v.C,{colorScheme:Q[e.taskInfo.difficulty.toLowerCase().replace(" ","")],children:e.taskInfo.difficulty}),(0,n.jsxs)(x.x,{fontWeight:"bold",children:["Payout ",e.payout]})]})]})})},e.id)):(0,n.jsx)(x.x,{pl:6,fontWeight:"bold",fontSize:"xl",children:"No completed tasks found."})})]})})]})})]})}},70424:function(e,t,s){"use strict";s.d(t,{Z:function(){return g}});var r=s(85893),n=s(67294),i=s(57747),o=s(93717),l=s(32883),a=s(6089),d=s(41664),c=s.n(d),x=s(11163),h=s(14225),p=s(98280),u=()=>{let{address:e,hasMemberNFT:t}=(0,p.S)(),[s,i]=(0,n.useState)("Connect Wallet"),[o,l]=(0,n.useState)("user");return(0,n.useEffect)(()=>{t?(i("Profile Hub"),l("profileHub")):i("Join or Connect")},[t,e]),(0,r.jsx)(c(),{href:"/".concat(o,"/"),passHref:!0,children:(0,r.jsx)(h.z,{bgGradient:"linear(to-r, teal.300, green.300)",color:"white",_hover:{bgGradient:"linear(to-r, teal.600, green.600)"},_active:{bgGradient:"linear(to-r, teal.700, green.700)"},borderRadius:"full",px:"6",py:"2",fontSize:"lg",fontWeight:"bold",textColor:"black",onClick:e=>{},children:s})})},g=()=>((0,x.useRouter)(),(0,r.jsx)(i.xu,{bg:"black",p:2.5,alignItems:"center",children:(0,r.jsxs)(o.k,{alignItems:"center",h:"70px",maxW:"100%",justifyContent:"space-between",children:[(0,r.jsx)(i.xu,{h:"100%",w:"12%",pb:2,pl:10,mr:{base:"4",md:"14"},children:(0,r.jsx)(l.r,{as:c(),href:"/home",passHref:!0,children:(0,r.jsx)(a.E,{src:"/images/kubi_white_logo.png",alt:"Your Logo",height:"113%",width:"auto",objectFit:"contain"})})}),(0,r.jsxs)(o.k,{justifyContent:"space-between",flexGrow:1,ml:4,mr:4,alignItems:"center",children:[(0,r.jsx)(l.r,{as:c(),href:"/dashboard",color:"white",fontWeight:"extrabold",fontSize:"xl",mx:"2%",children:"Dashboard"}),(0,r.jsx)(l.r,{as:c(),href:"/tasks",color:"white",fontWeight:"extrabold",fontSize:"xl",mx:"2%",children:"Tasks"}),(0,r.jsx)(l.r,{as:c(),href:"/voting",color:"white",fontWeight:"extrabold",fontSize:"xl",mx:"2%",children:"Voting"}),(0,r.jsx)(u,{})]})]})}))},53295:function(e,t,s){"use strict";var r=s(85893),n=s(67294),i=s(71293);t.Z=e=>{let{duration:t}=e,[s,o]=(0,n.useState)(t);(0,n.useEffect)(()=>{let e=setInterval(()=>{o(e=>Math.max(e-1,0))},1e3);return()=>clearInterval(e)},[]);let l=Math.floor(s/86400),a=Math.floor(s%86400/3600),d=Math.floor(s%3600/60),c=s%60;return(0,r.jsxs)(i.x,{fontWeight:"bold",fontSize:"md",children:[l>0?"".concat(l,"d "):"",a>0?"".concat(a,"h "):"",d>0?"".concat(d,"m "):"",c>0?"".concat(c,"s"):""]})}}},function(e){e.O(0,[157,4501,2888,9774,179],function(){return e(e.s=46463)}),_N_E=e.O()}]);
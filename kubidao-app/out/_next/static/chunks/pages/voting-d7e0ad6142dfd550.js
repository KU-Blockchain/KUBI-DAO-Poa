(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6664],{71114:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/voting",function(){return n(96675)}])},96675:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return er}});var r=n(85893),i=n(67294),o=n(20967),s=n(27239),l=n(81136),a=n(22338),c=n(70959),d=n(44461),x=n(24124),h=n(84028),g=n(90889),u=n(93717),p=n(48783),m=n(34292),b=n(22757),j=n(14225),f=n(57747),y=n(71293),v=n(65028),C=n(89993),w=n(35541),k=n(19778),S=n(51178),z=n(64859),I=n(66205),W=n(54346),A=n(85970),D=n(5418),_=n(33090),N=n(57169),O=n(41731),R=n(14253),H=n(47301),V=n(42154),P=n(34283),F=n(65592),M=n(72923),T=n(90273),E=n(11163),q=n(93104),U=n(74907),Z=n(20347),L=n(2593);let X={position:"absolute",height:"100%",width:"100%",zIndex:-1,borderRadius:"inherit",backdropFilter:"blur(9px)",backgroundColor:"rgba(33, 33, 33, 0.97)"};var K=e=>{var t;let{onOpen:n,isOpen:i,onClose:o,selectedPoll:s}=e,l=(0,E.useRouter)(),a=()=>{o(),l.push("/voting")};return(0,r.jsxs)(w.u_,{onOpen:n,isOpen:i,onClose:a,children:[(0,r.jsx)(k.Z,{}),(0,r.jsxs)(S.h,{alignItems:"center",justifyContent:"center",borderRadius:"3xl",boxShadow:"lg",display:"flex",w:"100%",maxWidth:"40%",bg:"transparent",position:"relative",p:4,zIndex:1,mt:"10%",color:"ghostwhite",children:[(0,r.jsx)("div",{className:"glass",style:X}),(0,r.jsx)(z.x,{color:"rgba(333, 333, 333, 1)",fontWeight:"extrabold",fontSize:"2xl",children:null==s?void 0:s.name}),(0,r.jsx)(I.o,{}),(0,r.jsx)(W.f,{children:(0,r.jsxs)(p.g,{spacing:6,children:[(0,r.jsx)(p.g,{ml:"6",mr:"6",spacing:2,alignItems:"start",children:(0,r.jsx)(y.x,{color:"rgba(333, 333, 333, 1)",fontSize:"md",children:null==s?void 0:s.description})}),(0,r.jsxs)(p.g,{color:"rgba(333, 333, 333, 1)",spacing:4,children:[(0,r.jsx)(y.x,{fontSize:"lg",fontWeight:"bold",children:"Results:"}),null==s?void 0:null===(t=s.options)||void 0===t?void 0:t.map((e,t)=>(0,r.jsxs)(y.x,{children:[e.name,": ",L.O$.from(e.votes).toNumber()," votes"]},t))]})]})}),(0,r.jsx)(R.m,{children:(0,r.jsx)(j.z,{colorScheme:"blue",onClick:a,mr:3,children:"Close"})})]})]})},$=n(70424);let G={position:"absolute",height:"100%",width:"100%",zIndex:-1,borderRadius:"inherit",backdropFilter:"blur(20px)",backgroundColor:"rgba(0, 0, 0, .8)"};var B=e=>{let{selectedTab:t}=e;return(0,r.jsxs)(u.k,{align:"center",mb:4,flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:"3xl",boxShadow:"lg",p:"1.5%",w:"100%",bg:"transparent",position:"relative",display:"flex",zIndex:0,children:[(0,r.jsx)("div",{className:"glass",style:G}),(0,r.jsx)(b.X,{color:"ghostwhite",size:"2xl",children:0===t?"Democracy Voting":"Hybrid Voting"}),(0,r.jsx)(y.x,{mt:2,color:"ghostwhite",fontSize:"md",fontWeight:"bold",children:0===t?"Equal Vote for All":"Participation Based Voting"}),(0,r.jsx)(v.L,{})]})},Y=n(53295),J=n(51607),Q=n(6154);let ee={position:"absolute",height:"100%",width:"100%",zIndex:-1,borderRadius:"inherit",backdropFilter:"blur(9px)",backgroundColor:"rgba(33, 33, 33, 0.97)"};var et=e=>{var t;let{onOpen:n,isOpen:i,onClose:o,selectedPoll:s,handleVote:l,contractAddress:a,loadingVote:c,selectedOption:d,setSelectedOption:x}=e,h=(0,E.useRouter)();return(0,r.jsxs)(w.u_,{onOpen:n,isOpen:i,onClose:()=>{o(),h.push("/voting")},children:[(0,r.jsx)(k.Z,{}),(0,r.jsxs)(S.h,{alignItems:"center",justifyContent:"center",borderRadius:"3xl",boxShadow:"lg",display:"flex",w:"100%",maxWidth:"40%",bg:"transparent",position:"relative",p:4,zIndex:1,mt:"10%",color:"ghostwhite",children:[(0,r.jsx)("div",{className:"glass",style:ee}),(0,r.jsx)(z.x,{color:"rgba(333, 333, 333, 1)",fontWeight:"extrabold",fontSize:"2xl",children:null==s?void 0:s.name}),(0,r.jsx)(I.o,{}),(0,r.jsx)(W.f,{children:(0,r.jsxs)(p.g,{spacing:6,children:[(0,r.jsx)(p.g,{ml:"6",mr:"6",spacing:2,alignItems:"start",children:(0,r.jsx)(y.x,{color:"rgba(333, 333, 333, 1)",fontSize:"md",children:null==s?void 0:s.description})}),(0,r.jsx)(Y.Z,{duration:(null==s?void 0:s.expirationTimestamp)-Math.floor(Date.now()/1e3)}),(0,r.jsx)(p.g,{color:"rgba(333, 333, 333, 1)",spacing:4,children:(0,r.jsx)(J.E,{onChange:x,value:d,children:(0,r.jsx)(p.g,{align:"flex-start",children:null==s?void 0:null===(t=s.options)||void 0===t?void 0:t.map((e,t)=>(0,r.jsxs)(Q.Y,{size:"lg",value:t,children:[e.name," (Votes:"," ",L.O$.from(e.votes).toNumber(),")"]},t))})})})]})}),(0,r.jsx)(R.m,{children:(0,r.jsx)(j.z,{colorScheme:"blue",onClick:()=>{console.log("selectedOption",d),console.log("selectedPoll",s.id),l(a,s.id.split("-")[0],d)},mr:3,isLoading:c,loadingText:"Handling Vote",children:"Vote"})})]})]})};let en={position:"absolute",height:"100%",width:"100%",zIndex:-1,borderRadius:"inherit",backdropFilter:"blur(20px)",backgroundColor:"rgba(0, 0, 0, .8)"};var er=()=>{let e=(0,E.useRouter)(),{createProposalDDVoting:t,getWinnerDDVoting:n,ddVote:L,account:X}=(0,q.Z)(),{isOpen:G,onOpen:J,onClose:Q}=(0,o.q)(),{directDemocracyVotingContractAddress:ee,votingContractAddress:er,poContextLoading:ei}=(0,U.f)(),{hybridVotingOngoing:eo,hybridVotingCompleted:es,democracyVotingOngoing:el,democracyVotingCompleted:ea,participationVotingCompleted:ec,participationVotingOngoing:ed}=(0,Z.S)(),ex=Array.isArray(eo)?"Hybrid":"Participation",[eh,eg]=(0,i.useState)("Direct Democracy"),[eu,ep]=(0,i.useState)({}),em=e=>Math.max(0,e-Math.floor(Date.now()/1e3)),eb=async(e,t,n)=>{0>=em(e)&&ep(e=>({...e,[t]:!0}))},ej=async(e,t)=>{let r=t.split("-")[0],i=await n(e,r);await i.wait()},[ef,ey]=(0,i.useState)(0),[ev,eC]=(0,i.useState)(0),[ew,ek]=(0,i.useState)(0),eS=Array.isArray(0===ef?el:"Hybrid"===ex?eo:ed)?0===ef?el:"Hybrid"===ex?eo:ed:[],ez=Array.isArray(0===ef?ea:"Hybrid"===ex?es:ec)?0===ef?ea:"Hybrid"===ex?es:ec:[];(0,i.useEffect)(()=>{eS.forEach(e=>{eb(null==e?void 0:e.experationTimestamp,null==e?void 0:e.id,null==e?void 0:e.isHybrid)})},[eS]);let eI=eS.slice(ev,ev+3),eW=ez.slice(ew,ew+3),eA=()=>{eC(Math.max(0,ev-3))},eD=()=>{ev+3<eS.length&&eC(ev+3)},e_=()=>{ek(Math.max(0,ew-3))},eN=()=>{ew+3<ez.length&&ek(ew+3)},{isOpen:eO,onOpen:eR,onClose:eH}=(0,o.q)(),[eV,eP]=(0,i.useState)(null),[eF,eM]=(0,i.useState)(!1),[eT,eE]=(0,i.useState)(!1),[eq,eU]=(0,i.useState)(""),[eZ,eL]=(0,i.useState)(!1),eX={name:"",description:"",execution:"",time:0,options:[],type:"normal",transferAddress:"",transferAmount:"",transferOption:"",id:0},[eK,e$]=(0,i.useState)(eX),eG=function(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];eP(t),eL(n),e.push("/voting?poll=".concat(t.id)),n?J():eR()},eB=e=>{let{name:t,value:n}=e.target;e$({...eK,[t]:n})},eY=()=>{eM(!eF)};(0,i.useEffect)(()=>{if(e.query.poll){let t=e.query.poll,n=e=>{for(let n of e)if(n.id===t)return n;return null},r=null,i="";Array.isArray(el)&&el.length>0&&(r=n(el))&&(i="Direct Democracy"),!r&&Array.isArray(eo)&&eo.length>0&&(r=n(eo))&&(i="Hybrid"),!r&&Array.isArray(ed)&&ed.length>0&&(r=n(ed))&&(i="Participation"),!r&&Array.isArray(ea)&&ea.length>0&&(r=n(ea))&&(i="Direct Democracy"),!r&&Array.isArray(es)&&es.length>0&&(r=n(es))&&(i="Hybrid"),!r&&Array.isArray(ec)&&ec.length>0&&(r=n(ec))&&(i="Participation"),r&&(eP(r),eg(i),ey("Direct Democracy"===i?0:1),eL(Array.isArray(ea)&&ea.includes(r)||Array.isArray(es)&&es.includes(r)||Array.isArray(ec)&&ec.includes(r)),Array.isArray(ea)&&ea.includes(r)||Array.isArray(es)&&es.includes(r)||Array.isArray(ec)&&ec.includes(r)?J():eR())}},[e.query.poll,el,ea,eo,es,ed,ec,eR,J]);let eJ=()=>{eE(!0),(()=>{let e="transferFunds"===eK.type;return"Participation"===eh||"Hybrid"===eh?t(er,eK.name,eK.description,eK.time,eK.options,e?eK.transferOption:0,e?eK.transferAddress:X,e?eK.transferAmount:"0",e):"Direct Democracy"===eh?t(ee,eK.name,eK.description,eK.time,eK.options,e?eK.transferOption:0,e?eK.transferAddress:X,e?eK.transferAmount:"0",e):void 0})().then(()=>{eE(!1),eM(!1),e$(eX)}).catch(e=>{console.error("Error creating poll:",e),eE(!1),eM(!1),e$(eX)})};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)($.Z,{}),ei?(0,r.jsx)(s.M,{height:"90vh",children:(0,r.jsx)(l.$,{size:"xl"})}):(0,r.jsxs)(a.W,{maxW:"container.2xl",py:4,px:"3.8%",children:[(0,r.jsx)(B,{selectedTab:ef}),(0,r.jsxs)(c.m,{index:ef,isFitted:!0,variant:"soft-rounded",onChange:e=>{ey(e),eg(0===e?"Direct Democracy":ex)},mb:6,children:[(0,r.jsxs)(d.t,{alignItems:"center",justifyContent:"center",borderRadius:"3xl",boxShadow:"lg",p:6,w:"100%",bg:"transparent",position:"relative",display:"flex",zIndex:0,color:"rgba(333, 333, 333, 1)",children:[(0,r.jsx)("div",{className:"glass",style:en}),(0,r.jsx)(x.O,{fontSize:"2xl",fontWeight:"extrabold",color:"rgba(333, 333, 333, 1)",_selected:{backgroundColor:"ghostwhite",color:"black"},children:"Direct Democracy"}),(0,r.jsx)(x.O,{fontSize:"2xl",fontWeight:"extrabold",color:"rgba(333, 333, 333, 1)",_selected:{backgroundColor:"ghostwhite",color:"black"},children:ex})]}),(0,r.jsxs)(h.n,{children:[(0,r.jsx)(g.x,{children:(0,r.jsxs)(u.k,{align:"center",mb:8,flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:"3xl",boxShadow:"lg",p:"2%",w:"100%",bg:"transparent",position:"relative",display:"flex",zIndex:0,children:[(0,r.jsx)("div",{className:"glass",style:en}),(0,r.jsx)(u.k,{w:"100%",flexDirection:"column",children:(0,r.jsxs)(p.g,{alignItems:"flex-start",spacing:6,children:[(0,r.jsxs)(m.U,{w:"100%",justifyContent:"space-between",children:[(0,r.jsx)(b.X,{pl:2,color:"rgba(333, 333, 333, 1)",children:"Ongoing Votes"}),(0,r.jsx)(j.z,{fontWeight:"black",p:"1%",w:"20%",bg:"green.300",mt:"1%",onClick:eY,_hover:{bg:"green.400",transform:"scale(1.05)"},children:eF?"Hide Create Vote Form":"Create Vote"})]}),(0,r.jsxs)(m.U,{justifyContent:"flex-start",w:"100%",spacing:4,children:[eI.length>0?eI.map((e,t)=>(0,r.jsxs)(f.xu,{flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:"3xl",boxShadow:"lg",display:"flex",w:"30%",minW:"30%",maxWidth:"30%",bg:"transparent",position:"relative",color:"rgba(333, 333, 333, 1)",p:2,zIndex:1,_hover:{bg:"black",boxShadow:"md",transform:"scale(1.05)"},onClick:()=>{eu[e.id]||eG(e)},children:[(0,r.jsx)("div",{className:"glass",style:en}),(0,r.jsx)(y.x,{mb:"4",fontSize:"xl",fontWeight:"extrabold",children:e.name}),eu[e.id]?(0,r.jsx)(j.z,{colorScheme:"gray",size:"sm",onClick:()=>{console.log("type",e.type),ej("Direct Democracy"===e.type?ee:er,e.id)},children:"Determine Winner"}):(0,r.jsx)(Y.Z,{duration:em(null==e?void 0:e.experationTimestamp,null==e?void 0:e.id,!1)}),(0,r.jsx)(y.x,{mt:"2",children:" Voting Options:"}),(0,r.jsx)(m.U,{mb:2,spacing:6,children:e.options.map((e,t)=>(0,r.jsx)(y.x,{fontSize:"sm",fontWeight:"extrabold",children:e.name},t))})]},t)):(0,r.jsxs)(f.xu,{flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:"3xl",boxShadow:"lg",display:"flex",w:"100%",maxWidth:"100%",bg:"transparent",position:"relative",p:4,zIndex:1,color:"rgba(333, 333, 333, 1)",children:[(0,r.jsx)("div",{className:"glass",style:en}),(0,r.jsx)(u.k,{flexDirection:"column",alignItems:"center",justifyContent:"center",children:(0,r.jsx)(y.x,{mb:"2",fontSize:"2xl",fontWeight:"extrabold",pl:12,pr:12,pt:14,pb:14,children:"No Ongoing Votes"})})]}),eI.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.L,{}),(0,r.jsxs)(m.U,{justifyContent:"bottom",spacing:4,children:[(0,r.jsx)(C.h,{"aria-label":"Previous polls",background:"transparent",border:"none",_hover:{bg:"transparent"},_active:{bg:"transparent"},icon:(0,r.jsx)(M.R,{boxSize:"6",color:"black"}),onClick:eA}),(0,r.jsx)(C.h,{"aria-label":"Next polls",background:"transparent",border:"none",_hover:{bg:"transparent"},_active:{bg:"transparent"},icon:(0,r.jsx)(T.m,{boxSize:"6",color:"black"}),onClick:eD})]})]})]}),(0,r.jsx)(b.X,{pl:2,color:"rgba(333, 333, 333, 1)",children:"History"}),(0,r.jsxs)(m.U,{spacing:4,w:"100%",justifyContent:"flex-start",children:[eW.length>0?eW.map((e,t)=>{let n=e.totalVotes,i=e.options[e.winningOptionIndex].name;!1===e.validWinner&&(i="No Winner");let o=["red","darkblue","yellow","purple"],s=[{name:"Options",values:e.options.map((e,t)=>{let r=t<o.length?o[t]:"rgba(".concat(255*Math.random(),", ").concat(255*Math.random(),", ").concat(255*Math.random(),", 1)");return{value:e.votes/n*100,color:r}})}];return(0,r.jsxs)(f.xu,{flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:"3xl",boxShadow:"lg",display:"flex",w:"30%",minW:"30%",maxWidth:"30%",bg:"transparent",position:"relative",color:"rgba(333, 333, 333, 1)",zIndex:1,onClick:()=>eG(e,!0),children:[(0,r.jsx)("div",{className:"glass",style:en}),(0,r.jsx)(y.x,{mr:"2",mt:"4",ml:"2 ",mb:"2",fontSize:"xl",fontWeight:"extrabold",children:e.name}),(0,r.jsx)(u.k,{justifyContent:"center",children:(0,r.jsxs)(H.v,{width:200,height:30,layout:"vertical",data:s,children:[(0,r.jsx)(V.K,{type:"number",hide:"true"}),(0,r.jsx)(P.B,{type:"category",dataKey:"name",hide:"true"}),s[0].values.map((e,t)=>(0,r.jsx)(F.$,{dataKey:"values[".concat(t,"].value"),stackId:"a",fill:e.color},t))]})}),(0,r.jsxs)(y.x,{mb:"2",fontSize:"xl",fontWeight:"extrabold",children:["Winner: ",i]})]},t)}):(0,r.jsxs)(f.xu,{flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:"3xl",boxShadow:"lg",display:"flex",w:"100%",maxWidth:"100%",bg:"transparent",position:"relative",p:4,zIndex:1,color:"rgba(333, 333, 333, 1)",children:[(0,r.jsx)("div",{className:"glass",style:en}),(0,r.jsx)(u.k,{flexDirection:"column",alignItems:"center",justifyContent:"center",children:(0,r.jsx)(y.x,{mb:"2",fontSize:"2xl",fontWeight:"extrabold",pl:12,pr:12,pt:14,pb:14,children:"No History"})})]}),eW.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.L,{}),(0,r.jsxs)(m.U,{justifyContent:"bottom",spacing:-2,children:[(0,r.jsx)(C.h,{background:"transparent",border:"none",_hover:{bg:"transparent"},_active:{bg:"transparent"},"aria-label":"Previous history polls",icon:(0,r.jsx)(M.R,{boxSize:"6",color:"black"}),onClick:e_}),(0,r.jsx)(C.h,{background:"transparent",border:"none",_hover:{bg:"transparent"},_active:{bg:"transparent"},"aria-label":"Next history polls",icon:(0,r.jsx)(T.m,{boxSize:"6",color:"black"}),onClick:eN})]})]})]})]})})]})}),(0,r.jsx)(g.x,{children:(0,r.jsxs)(u.k,{align:"center",mb:8,flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:"3xl",boxShadow:"lg",p:"2%",w:"100%",bg:"transparent",position:"relative",display:"flex",zIndex:0,children:[(0,r.jsx)("div",{className:"glass",style:en}),(0,r.jsx)(u.k,{w:"100%",flexDirection:"column",children:(0,r.jsxs)(p.g,{alignItems:"flex-start",spacing:6,children:[(0,r.jsxs)(m.U,{w:"100%",justifyContent:"space-between",children:[(0,r.jsx)(b.X,{pl:2,color:"rgba(333, 333, 333, 1)",children:"Ongoing Votes"}),(0,r.jsx)(j.z,{fontWeight:"black",p:"1%",w:"20%",bg:"green.300",mt:"1%",onClick:eY,_hover:{bg:"green.400",transform:"scale(1.05)"},children:eF?"Hide Create Vote Form":"Create Vote"})]}),(0,r.jsxs)(m.U,{justifyContent:"flex-start",w:"100%",spacing:4,children:[eI.length>0?eI.map((e,t)=>(0,r.jsxs)(f.xu,{flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:"3xl",boxShadow:"lg",display:"flex",w:"30%",minW:"30%",maxWidth:"30%",bg:"transparent",position:"relative",color:"rgba(333, 333, 333, 1)",p:2,zIndex:1,_hover:{bg:"black",boxShadow:"md",transform:"scale(1.05)"},onClick:()=>{eu[e.id]||eG(e)},children:[(0,r.jsx)("div",{className:"glass",style:en}),(0,r.jsx)(y.x,{mb:"4",fontSize:"xl",fontWeight:"extrabold",children:e.name}),eu[e.id]?(0,r.jsx)(j.z,{colorScheme:"gray",size:"sm",onClick:()=>{console.log("type",e.type),ej("Direct Democracy"===e.type?ee:er,e.id)},children:"Determine Winner"}):(0,r.jsx)(Y.Z,{duration:em(null==e?void 0:e.experationTimestamp,null==e?void 0:e.id,!1)}),(0,r.jsx)(y.x,{mt:"2",children:" Voting Options:"}),(0,r.jsx)(m.U,{mb:2,spacing:6,children:e.options.map((e,t)=>(0,r.jsx)(y.x,{fontSize:"sm",fontWeight:"extrabold",children:e.name},t))})]},t)):(0,r.jsxs)(f.xu,{flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:"3xl",boxShadow:"lg",display:"flex",w:"100%",maxWidth:"100%",bg:"transparent",position:"relative",p:4,zIndex:1,color:"rgba(333, 333, 333, 1)",children:[(0,r.jsx)("div",{className:"glass",style:en}),(0,r.jsx)(u.k,{flexDirection:"column",alignItems:"center",justifyContent:"center",children:(0,r.jsx)(y.x,{mb:"2",fontSize:"2xl",fontWeight:"extrabold",pl:12,pr:12,pt:14,pb:14,children:"No Ongoing Votes"})})]}),eI.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.L,{}),(0,r.jsxs)(m.U,{justifyContent:"bottom",spacing:4,children:[(0,r.jsx)(C.h,{"aria-label":"Previous polls",background:"transparent",border:"none",_hover:{bg:"transparent"},_active:{bg:"transparent"},icon:(0,r.jsx)(M.R,{boxSize:"6",color:"black"}),onClick:eA}),(0,r.jsx)(C.h,{"aria-label":"Next polls",background:"transparent",border:"none",_hover:{bg:"transparent"},_active:{bg:"transparent"},icon:(0,r.jsx)(T.m,{boxSize:"6",color:"black"}),onClick:eD})]})]})]}),(0,r.jsx)(b.X,{pl:2,color:"rgba(333, 333, 333, 1)",children:"History"}),(0,r.jsxs)(m.U,{spacing:4,w:"100%",justifyContent:"flex-start",children:[eW.length>0?eW.map((e,t)=>{let n=e.totalVotes,i=e.options[e.winningOptionIndex].name;!1===e.validWinner&&(i="No Winner");let o=["red","darkblue","yellow","purple"],s=[{name:"Options",values:e.options.map((e,t)=>{let r=t<o.length?o[t]:"rgba(".concat(255*Math.random(),", ").concat(255*Math.random(),", ").concat(255*Math.random(),", 1)");return{value:e.votes/n*100,color:r}})}];return(0,r.jsxs)(f.xu,{flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:"3xl",boxShadow:"lg",display:"flex",w:"30%",minW:"30%",maxWidth:"30%",bg:"transparent",position:"relative",color:"rgba(333, 333, 333, 1)",zIndex:1,onClick:()=>eG(e,!0),children:[(0,r.jsx)("div",{className:"glass",style:en}),(0,r.jsx)(y.x,{mr:"2",mt:"4",ml:"2 ",mb:"2",fontSize:"xl",fontWeight:"extrabold",children:e.name}),(0,r.jsx)(u.k,{justifyContent:"center",children:(0,r.jsxs)(H.v,{width:200,height:30,layout:"vertical",data:s,children:[(0,r.jsx)(V.K,{type:"number",hide:"true"}),(0,r.jsx)(P.B,{type:"category",dataKey:"name",hide:"true"}),s[0].values.map((e,t)=>(0,r.jsx)(F.$,{dataKey:"values[".concat(t,"].value"),stackId:"a",fill:e.color},t))]})}),(0,r.jsxs)(y.x,{mb:"2",fontSize:"xl",fontWeight:"extrabold",children:["Winner: ",i]})]},t)}):(0,r.jsxs)(f.xu,{flexDirection:"column",alignItems:"center",justifyContent:"center",borderRadius:"3xl",boxShadow:"lg",display:"flex",w:"100%",maxWidth:"100%",bg:"transparent",position:"relative",p:4,zIndex:1,color:"rgba(333, 333, 333, 1)",children:[(0,r.jsx)("div",{className:"glass",style:en}),(0,r.jsx)(u.k,{flexDirection:"column",alignItems:"center",justifyContent:"center",children:(0,r.jsx)(y.x,{mb:"2",fontSize:"2xl",fontWeight:"extrabold",pl:12,pr:12,pt:14,pb:14,children:"No History"})})]}),eW.length>0&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.L,{}),(0,r.jsxs)(m.U,{justifyContent:"bottom",spacing:-2,children:[(0,r.jsx)(C.h,{background:"transparent",border:"none",_hover:{bg:"transparent"},_active:{bg:"transparent"},"aria-label":"Previous history polls",icon:(0,r.jsx)(M.R,{boxSize:"6",color:"black"}),onClick:e_}),(0,r.jsx)(C.h,{background:"transparent",border:"none",_hover:{bg:"transparent"},_active:{bg:"transparent"},"aria-label":"Next history polls",icon:(0,r.jsx)(T.m,{boxSize:"6",color:"black"}),onClick:eN})]})]})]})]})})]})}),(0,r.jsxs)(w.u_,{isOpen:eF,onClose:eY,children:[(0,r.jsx)(k.Z,{}),(0,r.jsxs)(S.h,{children:[(0,r.jsx)(z.x,{children:"Create a Vote"}),(0,r.jsx)(I.o,{}),(0,r.jsx)(W.f,{children:(0,r.jsxs)(p.g,{as:"form",onSubmit:eJ,spacing:4,mt:8,w:"100%",children:[(0,r.jsxs)(A.NI,{children:[(0,r.jsx)(D.l,{children:"Proposal title"}),(0,r.jsx)(_.I,{type:"text",name:"name",value:eK.name,onChange:eB,required:!0})]}),(0,r.jsxs)(A.NI,{children:[(0,r.jsx)(D.l,{children:"Proposal Description"}),(0,r.jsx)(N.g,{name:"description",value:eK.description,onChange:eB,required:!0})]}),(0,r.jsxs)(A.NI,{children:[(0,r.jsx)(D.l,{children:"Time (in Minutes)"}),(0,r.jsx)(_.I,{type:"number",name:"time",value:eK.time,onChange:eB,required:!0})]}),(0,r.jsxs)(A.NI,{children:[(0,r.jsx)(D.l,{children:"Options (comma and space separated)"}),(0,r.jsx)(N.g,{name:"options",value:eK.options.join(", "),onChange:e=>{let t=e.target.value.split(", ");e$({...eK,options:t})},placeholder:"Option 1, Option 2, Option 3",required:!0})]}),(0,r.jsxs)(A.NI,{children:[(0,r.jsx)(D.l,{children:"Proposal Type"}),(0,r.jsxs)(O.P,{name:"type",value:eK.type,onChange:e=>{e$({...eK,type:e.target.value})},children:[(0,r.jsx)("option",{value:"normal",children:"Normal"}),(0,r.jsx)("option",{value:"transferFunds",children:"Transfer Funds"})]})]}),"transferFunds"===eK.type&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(A.NI,{children:[(0,r.jsx)(D.l,{children:"Transfer Address"}),(0,r.jsx)(_.I,{type:"text",name:"transferAddress",value:eK.transferAddress,onChange:e=>{e$({...eK,transferAddress:e.target.value})},required:!0})]}),(0,r.jsxs)(A.NI,{children:[(0,r.jsx)(D.l,{children:"Transfer Amount"}),(0,r.jsx)(_.I,{type:"number",name:"transferAmount",value:eK.transferAmount,onChange:e=>{e$({...eK,transferAmount:e.target.value})},required:!0})]}),(0,r.jsxs)(A.NI,{children:[(0,r.jsx)(D.l,{children:"Transfer Option"}),(0,r.jsx)(_.I,{type:"number",name:"transferOption",value:eK.transferOption,onChange:e=>{e$({...eK,transferOption:e.target.value})},required:!0})]})]}),(0,r.jsx)(y.x,{fontSize:"md",color:"gray.500",children:"Create votes to control treasury and create tasks or projects Coming Soon"})]})}),(0,r.jsx)(R.m,{children:(0,r.jsx)(j.z,{type:"submit",colorScheme:"teal",onClick:eJ,isLoading:eT,loadingText:"Handling Process",children:"Submit Poll"})})]})]})]})]}),(0,r.jsx)(et,{isOpen:eO,onClose:eH,handleVote:L,contractAddress:"Direct Democracy"===eh?ee:er,selectedPoll:eV,selectedOption:eq,setSelectedOption:eU,onOpen:eR}),(0,r.jsx)(K,{isOpen:G,onClose:Q,selectedPoll:eV})]})]})}},70424:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(85893),i=n(67294),o=n(57747),s=n(93717),l=n(32883),a=n(6089),c=n(41664),d=n.n(c),x=n(11163),h=n(14225),g=n(98280),u=()=>{let{address:e,hasMemberNFT:t}=(0,g.S)(),[n,o]=(0,i.useState)("Connect Wallet"),[s,l]=(0,i.useState)("user");return(0,i.useEffect)(()=>{t?(o("Profile Hub"),l("profileHub")):o("Join or Connect")},[t,e]),(0,r.jsx)(d(),{href:"/".concat(s,"/"),passHref:!0,children:(0,r.jsx)(h.z,{bgGradient:"linear(to-r, teal.300, green.300)",color:"white",_hover:{bgGradient:"linear(to-r, teal.600, green.600)"},_active:{bgGradient:"linear(to-r, teal.700, green.700)"},borderRadius:"full",px:"6",py:"2",fontSize:"lg",fontWeight:"bold",textColor:"black",onClick:e=>{},children:n})})},p=()=>((0,x.useRouter)(),(0,r.jsx)(o.xu,{bg:"black",p:2.5,alignItems:"center",children:(0,r.jsxs)(s.k,{alignItems:"center",h:"70px",maxW:"100%",justifyContent:"space-between",children:[(0,r.jsx)(o.xu,{h:"100%",w:"12%",pb:2,pl:10,mr:{base:"4",md:"14"},children:(0,r.jsx)(l.r,{as:d(),href:"/home",passHref:!0,children:(0,r.jsx)(a.E,{src:"/images/kubi_white_logo.png",alt:"Your Logo",height:"113%",width:"auto",objectFit:"contain"})})}),(0,r.jsxs)(s.k,{justifyContent:"space-between",flexGrow:1,ml:4,mr:4,alignItems:"center",children:[(0,r.jsx)(l.r,{as:d(),href:"/dashboard",color:"white",fontWeight:"extrabold",fontSize:"xl",mx:"2%",children:"Dashboard"}),(0,r.jsx)(l.r,{as:d(),href:"/tasks",color:"white",fontWeight:"extrabold",fontSize:"xl",mx:"2%",children:"Tasks"}),(0,r.jsx)(l.r,{as:d(),href:"/voting",color:"white",fontWeight:"extrabold",fontSize:"xl",mx:"2%",children:"Voting"}),(0,r.jsx)(u,{})]})]})}))},53295:function(e,t,n){"use strict";var r=n(85893),i=n(67294),o=n(71293);t.Z=e=>{let{duration:t}=e,[n,s]=(0,i.useState)(t);(0,i.useEffect)(()=>{let e=setInterval(()=>{s(e=>Math.max(e-1,0))},1e3);return()=>clearInterval(e)},[]);let l=Math.floor(n/86400),a=Math.floor(n%86400/3600),c=Math.floor(n%3600/60),d=n%60;return(0,r.jsxs)(o.x,{fontWeight:"bold",fontSize:"md",children:[l>0?"".concat(l,"d "):"",a>0?"".concat(a,"h "):"",c>0?"".concat(c,"m "):"",d>0?"".concat(d,"s"):""]})}}},function(e){e.O(0,[157,6295,2888,9774,179],function(){return e(e.s=71114)}),_N_E=e.O()}]);